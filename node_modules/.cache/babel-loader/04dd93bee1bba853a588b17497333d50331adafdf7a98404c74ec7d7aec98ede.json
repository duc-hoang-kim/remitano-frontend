{"ast":null,"code":"import _objectSpread from\"/Users/hoangkimduc/remitano/remitano-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/hoangkimduc/remitano/remitano-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/Users/hoangkimduc/remitano/remitano-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{Box,Button,TextField,Typography,styled}from\"@mui/material\";import{useState}from\"react\";import{useForm}from\"react-hook-form\";import{useNavigate}from\"react-router-dom\";import ConfirmationInstruction from\"../features/authentication/components/ConfirmationInstruction\";import useRegister from\"../features/authentication/hooks/useRegister\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledBox=styled(Box)(function(_ref){var _ref2;var theme=_ref.theme;return _ref2={margin:\"auto\"},_defineProperty(_ref2,theme.breakpoints.down(\"md\"),{width:\"90vw\"}),_defineProperty(_ref2,theme.breakpoints.up(\"md\"),{width:\"40vw\"}),_defineProperty(_ref2,theme.breakpoints.up(\"lg\"),{width:\"30vw\"}),_ref2;});var RegisterPage=function RegisterPage(){var _errors$passwordConfi;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),formSubmitted=_useState2[0],setFormSubmitted=_useState2[1];var navigate=useNavigate();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,errors=_useForm.formState.errors;var _useRegister=useRegister({onSuccess:function onSuccess(){setFormSubmitted(true);}}),data=_useRegister.data,error=_useRegister.error,fetchRegistry=_useRegister.fetchRegistry;var onSubmit=function onSubmit(data){fetchRegistry({user:{email:data.email,password:data.password,password_confirmation:data.passwordConfirmation}});};if(formSubmitted)return/*#__PURE__*/_jsx(ConfirmationInstruction,{});return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{textAlign:\"center\"},children:\"Register Funny Movies Account\"}),/*#__PURE__*/_jsx(Box,{sx:{textAlign:\"center\",marginTop:\"35px\"},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(StyledBox,{children:[/*#__PURE__*/_jsx(TextField,_objectSpread({id:\"outlined-basic\",label:\"Email\",variant:\"outlined\",sx:{width:\"100%\"}},register(\"email\"))),/*#__PURE__*/_jsx(TextField,_objectSpread({id:\"outlined-basic\",label:\"Password\",variant:\"outlined\",type:\"password\",sx:{width:\"100%\",marginTop:\"20px\"}},register(\"password\"))),/*#__PURE__*/_jsx(TextField,_objectSpread({id:\"outlined-basic\",label:\"Password confirmation\",variant:\"outlined\",type:\"password\",sx:{width:\"100%\",marginTop:\"20px\"}},register(\"passwordConfirmation\",{validate:function validate(val){if(watch(\"password\")!=val){return\"Password confirmation doesn't match\";}}}))),/*#__PURE__*/_jsx(Typography,{color:\"red\",children:(_errors$passwordConfi=errors.passwordConfirmation)===null||_errors$passwordConfi===void 0?void 0:_errors$passwordConfi.message})]}),/*#__PURE__*/_jsx(Typography,{color:\"red\",children:error}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",sx:{marginTop:\"20px\",marginBottom:\"20px\"},children:\"Register\"}),/*#__PURE__*/_jsxs(Typography,{children:[\"Already had an account?\",\" \",/*#__PURE__*/_jsx(Button,{variant:\"text\",onClick:function onClick(){return navigate(\"/login\");},children:\"Login\"})]})]})})]});};export default RegisterPage;","map":{"version":3,"names":["Box","Button","TextField","Typography","styled","useState","useForm","useNavigate","ConfirmationInstruction","useRegister","jsx","_jsx","jsxs","_jsxs","StyledBox","_ref","_ref2","theme","margin","_defineProperty","breakpoints","down","width","up","RegisterPage","_errors$passwordConfi","_useState","_useState2","_slicedToArray","formSubmitted","setFormSubmitted","navigate","_useForm","register","handleSubmit","watch","errors","formState","_useRegister","onSuccess","data","error","fetchRegistry","onSubmit","user","email","password","password_confirmation","passwordConfirmation","children","variant","sx","textAlign","marginTop","_objectSpread","id","label","type","validate","val","color","message","marginBottom","onClick"],"sources":["/Users/hoangkimduc/remitano/remitano-frontend/src/pages/RegisterPage.tsx"],"sourcesContent":["import { Box, Button, TextField, Typography, styled } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { useForm, SubmitHandler } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport ConfirmationInstruction from \"../features/authentication/components/ConfirmationInstruction\";\nimport useRegister from \"../features/authentication/hooks/useRegister\";\n\nconst StyledBox = styled(Box)(({ theme }) => ({\n  margin: \"auto\",\n  [theme.breakpoints.down(\"md\")]: {\n    width: \"90vw\",\n  },\n  [theme.breakpoints.up(\"md\")]: {\n    width: \"40vw\",\n  },\n  [theme.breakpoints.up(\"lg\")]: {\n    width: \"30vw\",\n  },\n}));\n\ntype InputsType = {\n  email: string;\n  password: string;\n  passwordConfirmation: string;\n};\n\nconst RegisterPage = () => {\n  const [formSubmitted, setFormSubmitted] = useState(false);\n  const navigate = useNavigate();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors },\n  } = useForm<InputsType>();\n  const { data, error, fetchRegistry } = useRegister({\n    onSuccess: () => {\n      setFormSubmitted(true);\n    },\n  });\n  const onSubmit: SubmitHandler<InputsType> = (data) => {\n    fetchRegistry({\n      user: {\n        email: data.email,\n        password: data.password,\n        password_confirmation: data.passwordConfirmation,\n      },\n    });\n  };\n\n  if (formSubmitted) return <ConfirmationInstruction />;\n\n  return (\n    <Box>\n      <Typography variant=\"h4\" sx={{ textAlign: \"center\" }}>\n        Register Funny Movies Account\n      </Typography>\n\n      <Box sx={{ textAlign: \"center\", marginTop: \"35px\" }}>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <StyledBox>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Email\"\n              variant=\"outlined\"\n              sx={{ width: \"100%\" }}\n              {...register(\"email\")}\n            />\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Password\"\n              variant=\"outlined\"\n              type=\"password\"\n              sx={{ width: \"100%\", marginTop: \"20px\" }}\n              {...register(\"password\")}\n            />\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Password confirmation\"\n              variant=\"outlined\"\n              type=\"password\"\n              sx={{ width: \"100%\", marginTop: \"20px\" }}\n              {...register(\"passwordConfirmation\", {\n                validate: (val: string) => {\n                  if (watch(\"password\") != val) {\n                    return \"Password confirmation doesn't match\";\n                  }\n                },\n              })}\n            />\n            <Typography color=\"red\">\n              {errors.passwordConfirmation?.message}\n            </Typography>\n          </StyledBox>\n          <Typography color=\"red\">{error}</Typography>\n          <Button\n            variant=\"contained\"\n            type=\"submit\"\n            sx={{ marginTop: \"20px\", marginBottom: \"20px\" }}\n          >\n            Register\n          </Button>\n          <Typography>\n            Already had an account?{\" \"}\n            <Button variant=\"text\" onClick={() => navigate(\"/login\")}>\n              Login\n            </Button>\n          </Typography>\n        </form>\n      </Box>\n    </Box>\n  );\n};\n\nexport default RegisterPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}