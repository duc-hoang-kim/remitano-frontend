{"ast":null,"code":"import _slicedToArray from\"/Users/hoangkimduc/remitano/remitano-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import AppBar from\"@mui/material/AppBar\";import Box from\"@mui/material/Box\";import Toolbar from\"@mui/material/Toolbar\";import IconButton from\"@mui/material/IconButton\";import Typography from\"@mui/material/Typography\";import Menu from\"@mui/material/Menu\";import MenuIcon from\"@mui/icons-material/Menu\";import Container from\"@mui/material/Container\";import Button from\"@mui/material/Button\";import MenuItem from\"@mui/material/MenuItem\";import HomeIcon from\"@mui/icons-material/Home\";import{useNavigate}from\"react-router-dom\";import{useAuthenticate}from\"../contexts/AuthContext\";import useLogout from\"../features/authentication/hooks/useLogout\";import AddVideoButton from\"../features/videos/components/AddVideoButton\";import AddVideoMenuItem from\"../features/videos/components/AddVideoMenuItem\";import truncateText from\"../utils/truncateText\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WEB_NAME=\"Funny Movies\";function ResponsiveAppBar(){var _useLogout=useLogout(),fetchLogout=_useLogout.fetchLogout;var navigate=useNavigate();var _useAuthenticate=useAuthenticate(),user=_useAuthenticate.user,isAuthenticated=_useAuthenticate.isAuthenticated;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorElNav=_React$useState2[0],setAnchorElNav=_React$useState2[1];var handleOpenNavMenu=function handleOpenNavMenu(event){setAnchorElNav(event.currentTarget);};var onClickLogin=function onClickLogin(){navigate(\"/login\");handleCloseNavMenu();};var onClickLogout=function onClickLogout(){fetchLogout();handleCloseNavMenu();};var handleCloseNavMenu=function handleCloseNavMenu(){setAnchorElNav(null);};return/*#__PURE__*/_jsx(AppBar,{position:\"static\",children:/*#__PURE__*/_jsx(Container,{maxWidth:\"xl\",children:/*#__PURE__*/_jsxs(Toolbar,{disableGutters:true,children:[/*#__PURE__*/_jsx(HomeIcon,{sx:{display:{xs:\"none\",md:\"flex\",color:\"black\"},mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",noWrap:true,component:\"a\",sx:{mr:2,display:{xs:\"none\",md:\"flex\"},fontFamily:\"monospace\",fontWeight:600,color:\"black\",cursor:\"pointer\"},onClick:function onClick(){return navigate(\"/\");},children:WEB_NAME}),/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1,display:{xs:\"flex\",md:\"none\"}},children:[/*#__PURE__*/_jsx(IconButton,{size:\"large\",\"aria-label\":\"account of current user\",\"aria-controls\":\"menu-appbar\",\"aria-haspopup\":\"true\",onClick:handleOpenNavMenu,color:\"inherit\",children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsxs(Menu,{id:\"menu-appbar\",anchorEl:anchorElNav,anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},keepMounted:true,transformOrigin:{vertical:\"top\",horizontal:\"left\"},open:Boolean(anchorElNav),onClose:handleCloseNavMenu,sx:{display:{xs:\"block\",md:\"none\"}},children:[!isAuthenticated()&&/*#__PURE__*/_jsx(MenuItem,{onClick:onClickLogin,children:/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:\"Login / Registry\"})},\"login\"),isAuthenticated()&&[/*#__PURE__*/_jsx(MenuItem,{onClick:onClickLogout,children:/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:\"Logout\"})},\"logout\"),/*#__PURE__*/_jsx(AddVideoMenuItem,{onClick:handleCloseNavMenu},\"add video\"),/*#__PURE__*/_jsx(MenuItem,{onClick:handleCloseNavMenu,children:/*#__PURE__*/_jsx(Typography,{children:truncateText(user===null||user===void 0?void 0:user.email,10)})},\"current user\")]]})]}),/*#__PURE__*/_jsx(HomeIcon,{sx:{display:{xs:\"flex\",md:\"none\",color:\"black\"},mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",noWrap:true,component:\"a\",sx:{mr:2,display:{xs:\"flex\",md:\"none\"},flexGrow:1,fontFamily:\"monospace\",fontWeight:600,color:\"black\"},onClick:function onClick(){return navigate(\"/\");},children:WEB_NAME}),/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1,display:{xs:\"none\",md:\"flex\",flexDirection:\"row-reverse\"}},children:[!isAuthenticated()&&/*#__PURE__*/_jsx(Button,{onClick:onClickLogin,sx:{my:2,color:\"white\",display:\"block\"},children:\"Login / Register\"}),isAuthenticated()&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:onClickLogout,sx:{my:2,color:\"white\",display:\"block\"},children:\"Logout\"}),/*#__PURE__*/_jsx(AddVideoButton,{}),/*#__PURE__*/_jsxs(Typography,{sx:{mr:3,my:2,color:\"white\",display:\"block\",transform:\"translateY(5px)\"},children:[\"Welcome \",user===null||user===void 0?void 0:user.email]})]})]})]})})});}export default ResponsiveAppBar;","map":{"version":3,"names":["React","AppBar","Box","Toolbar","IconButton","Typography","Menu","MenuIcon","Container","Button","MenuItem","HomeIcon","useNavigate","useAuthenticate","useLogout","AddVideoButton","AddVideoMenuItem","truncateText","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WEB_NAME","ResponsiveAppBar","_useLogout","fetchLogout","navigate","_useAuthenticate","user","isAuthenticated","_React$useState","useState","_React$useState2","_slicedToArray","anchorElNav","setAnchorElNav","handleOpenNavMenu","event","currentTarget","onClickLogin","handleCloseNavMenu","onClickLogout","position","children","maxWidth","disableGutters","sx","display","xs","md","color","mr","variant","noWrap","component","fontFamily","fontWeight","cursor","onClick","flexGrow","size","id","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","textAlign","email","flexDirection","my","transform"],"sources":["/Users/hoangkimduc/remitano/remitano-frontend/src/components/Navigation.tsx"],"sourcesContent":["import * as React from \"react\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Typography from \"@mui/material/Typography\";\nimport Menu from \"@mui/material/Menu\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport Container from \"@mui/material/Container\";\nimport Button from \"@mui/material/Button\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport HomeIcon from \"@mui/icons-material/Home\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuthenticate } from \"../contexts/AuthContext\";\nimport useLogout from \"../features/authentication/hooks/useLogout\";\nimport AddVideoButton from \"../features/videos/components/AddVideoButton\";\nimport AddVideoMenuItem from \"../features/videos/components/AddVideoMenuItem\";\nimport truncateText from \"../utils/truncateText\";\n\nconst WEB_NAME = \"Funny Movies\";\n\nfunction ResponsiveAppBar() {\n  const { fetchLogout } = useLogout();\n  const navigate = useNavigate();\n  const { user, isAuthenticated } = useAuthenticate();\n\n  const [anchorElNav, setAnchorElNav] = React.useState<null | HTMLElement>(\n    null\n  );\n\n  const handleOpenNavMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorElNav(event.currentTarget);\n  };\n\n  const onClickLogin = () => {\n    navigate(\"/login\");\n    handleCloseNavMenu();\n  };\n\n  const onClickLogout = () => {\n    fetchLogout();\n    handleCloseNavMenu();\n  };\n\n  const handleCloseNavMenu = () => {\n    setAnchorElNav(null);\n  };\n\n  return (\n    <AppBar position=\"static\">\n      <Container maxWidth=\"xl\">\n        <Toolbar disableGutters>\n          <HomeIcon\n            sx={{ display: { xs: \"none\", md: \"flex\", color: \"black\" }, mr: 1 }}\n          />\n          <Typography\n            variant=\"h6\"\n            noWrap\n            component=\"a\"\n            sx={{\n              mr: 2,\n              display: { xs: \"none\", md: \"flex\" },\n              fontFamily: \"monospace\",\n              fontWeight: 600,\n              color: \"black\",\n              cursor: \"pointer\",\n            }}\n            onClick={() => navigate(\"/\")}\n          >\n            {WEB_NAME}\n          </Typography>\n\n          <Box sx={{ flexGrow: 1, display: { xs: \"flex\", md: \"none\" } }}>\n            <IconButton\n              size=\"large\"\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleOpenNavMenu}\n              color=\"inherit\"\n            >\n              <MenuIcon />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorElNav}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"left\",\n              }}\n              keepMounted\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"left\",\n              }}\n              open={Boolean(anchorElNav)}\n              onClose={handleCloseNavMenu}\n              sx={{\n                display: { xs: \"block\", md: \"none\" },\n              }}\n            >\n              {!isAuthenticated() && (\n                <MenuItem key=\"login\" onClick={onClickLogin}>\n                  <Typography textAlign=\"center\">Login / Registry</Typography>\n                </MenuItem>\n              )}\n              {isAuthenticated() && [\n                <MenuItem key=\"logout\" onClick={onClickLogout}>\n                  <Typography textAlign=\"center\">Logout</Typography>\n                </MenuItem>,\n\n                <AddVideoMenuItem key=\"add video\" onClick={handleCloseNavMenu} />,\n\n                <MenuItem key=\"current user\" onClick={handleCloseNavMenu}>\n                  <Typography>{truncateText(user?.email, 10)}</Typography>\n                </MenuItem>,\n              ]}\n            </Menu>\n          </Box>\n          <HomeIcon\n            sx={{ display: { xs: \"flex\", md: \"none\", color: \"black\" }, mr: 1 }}\n          />\n          <Typography\n            variant=\"h5\"\n            noWrap\n            component=\"a\"\n            sx={{\n              mr: 2,\n              display: { xs: \"flex\", md: \"none\" },\n              flexGrow: 1,\n              fontFamily: \"monospace\",\n              fontWeight: 600,\n              color: \"black\",\n            }}\n            onClick={() => navigate(\"/\")}\n          >\n            {WEB_NAME}\n          </Typography>\n          <Box\n            sx={{\n              flexGrow: 1,\n              display: { xs: \"none\", md: \"flex\", flexDirection: \"row-reverse\" },\n            }}\n          >\n            {!isAuthenticated() && (\n              <Button\n                onClick={onClickLogin}\n                sx={{ my: 2, color: \"white\", display: \"block\" }}\n              >\n                Login / Register\n              </Button>\n            )}\n\n            {isAuthenticated() && (\n              <>\n                <Button\n                  onClick={onClickLogout}\n                  sx={{ my: 2, color: \"white\", display: \"block\" }}\n                >\n                  Logout\n                </Button>\n\n                <AddVideoButton />\n\n                <Typography\n                  sx={{\n                    mr: 3,\n                    my: 2,\n                    color: \"white\",\n                    display: \"block\",\n                    transform: \"translateY(5px)\",\n                  }}\n                >\n                  Welcome {user?.email}\n                </Typography>\n              </>\n            )}\n          </Box>\n        </Toolbar>\n      </Container>\n    </AppBar>\n  );\n}\nexport default ResponsiveAppBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}