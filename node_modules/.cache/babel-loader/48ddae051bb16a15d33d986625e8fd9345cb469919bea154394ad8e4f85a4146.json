{"ast":null,"code":"import _slicedToArray from\"/Users/hoangkimduc/remitano/remitano-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import useLoadVideos from\"../features/videos/hooks/useLoadVideos\";import{jsx as _jsx}from\"react/jsx-runtime\";var HomepageContext=/*#__PURE__*/React.createContext({videos:[],numberOfPages:0,page:0,setPage:function setPage(page){},refresh:function refresh(){}});var HomepageProvider=function HomepageProvider(_ref){var children=_ref.children;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useLoadVideos=useLoadVideos({pageIndex:page}),videos=_useLoadVideos.data,total=_useLoadVideos.total,fetchVideos=_useLoadVideos.fetchVideos;var refresh=function refresh(){console.log('refresh');setPage(1);fetchVideos();};var value={page:page,setPage:setPage,videos:videos,numberOfPages:Math.ceil(total/4),refresh:refresh};return/*#__PURE__*/_jsx(HomepageContext.Provider,{value:value,children:children});};var useHomepageContext=function useHomepageContext(){var context=React.useContext(HomepageContext);if(context===undefined){throw new Error(\"must be used within a AuthProvider\");}return context;};export{HomepageProvider,useHomepageContext};","map":{"version":3,"names":["React","useState","useLoadVideos","jsx","_jsx","HomepageContext","createContext","videos","numberOfPages","page","setPage","refresh","HomepageProvider","_ref","children","_useState","_useState2","_slicedToArray","_useLoadVideos","pageIndex","data","total","fetchVideos","console","log","value","Math","ceil","Provider","useHomepageContext","context","useContext","undefined","Error"],"sources":["/Users/hoangkimduc/remitano/remitano-frontend/src/contexts/HomepageContext.tsx"],"sourcesContent":["import React, { ReactNode, useState } from \"react\";\nimport useLoadVideos from \"../features/videos/hooks/useLoadVideos\";\nimport { VideoType } from \"../features/videos/types\";\n\ntype AuthProviderPropsType = {\n  children: ReactNode;\n};\n\ntype HompageContextType = {\n  videos: VideoType[],\n  numberOfPages: number,\n  page: number,\n  setPage: (page: number) => void,\n  refresh: () => void,\n}\n\nconst HomepageContext = React.createContext<HompageContextType>({\n  videos: [],\n  numberOfPages: 0,\n  page: 0,\n  setPage: (page: number) => {},\n  refresh: () => {}\n});\n\nconst HomepageProvider = ({ children }: AuthProviderPropsType) => {\n  const [page, setPage] = useState<number>(1)\n  const { data: videos, total, fetchVideos } = useLoadVideos({ pageIndex: page })\n\n  const refresh = () => {\n    console.log('refresh')\n    setPage(1);\n    fetchVideos();\n  }\n\n  const value = {\n    page,\n    setPage,\n    videos,\n    numberOfPages: Math.ceil(total/4),\n    refresh,\n  };\n\n  return <HomepageContext.Provider value={value}>{children}</HomepageContext.Provider>;\n};\n\nconst useHomepageContext = () => {\n  const context = React.useContext(HomepageContext);\n  if (context === undefined) {\n    throw new Error(\"must be used within a AuthProvider\");\n  }\n  return context;\n};\n\nexport { HomepageProvider, useHomepageContext };\n"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,EAAeC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,aAAa,KAAM,wCAAwC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAenE,GAAM,CAAAC,eAAe,cAAGL,KAAK,CAACM,aAAa,CAAqB,CAC9DC,MAAM,CAAE,EAAE,CACVC,aAAa,CAAE,CAAC,CAChBC,IAAI,CAAE,CAAC,CACPC,OAAO,CAAE,SAAAA,QAACD,IAAY,CAAK,CAAC,CAAC,CAC7BE,OAAO,CAAE,SAAAA,QAAA,CAAM,CAAC,CAClB,CAAC,CAAC,CAEF,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAAC,IAAA,CAA4C,IAAtC,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAClC,IAAAC,SAAA,CAAwBd,QAAQ,CAAS,CAAC,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApCN,IAAI,CAAAO,UAAA,IAAEN,OAAO,CAAAM,UAAA,IACpB,IAAAE,cAAA,CAA6ChB,aAAa,CAAC,CAAEiB,SAAS,CAAEV,IAAK,CAAC,CAAC,CAAjEF,MAAM,CAAAW,cAAA,CAAZE,IAAI,CAAUC,KAAK,CAAAH,cAAA,CAALG,KAAK,CAAEC,WAAW,CAAAJ,cAAA,CAAXI,WAAW,CAExC,GAAM,CAAAX,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpBY,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CACtBd,OAAO,CAAC,CAAC,CAAC,CACVY,WAAW,EAAE,CACf,CAAC,CAED,GAAM,CAAAG,KAAK,CAAG,CACZhB,IAAI,CAAJA,IAAI,CACJC,OAAO,CAAPA,OAAO,CACPH,MAAM,CAANA,MAAM,CACNC,aAAa,CAAEkB,IAAI,CAACC,IAAI,CAACN,KAAK,CAAC,CAAC,CAAC,CACjCV,OAAO,CAAPA,OACF,CAAC,CAED,mBAAOP,IAAA,CAACC,eAAe,CAACuB,QAAQ,EAACH,KAAK,CAAEA,KAAM,CAAAX,QAAA,CAAEA,QAAQ,EAA4B,CACtF,CAAC,CAED,GAAM,CAAAe,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAS,CAC/B,GAAM,CAAAC,OAAO,CAAG9B,KAAK,CAAC+B,UAAU,CAAC1B,eAAe,CAAC,CACjD,GAAIyB,OAAO,GAAKE,SAAS,CAAE,CACzB,KAAM,IAAI,CAAAC,KAAK,CAAC,oCAAoC,CAAC,CACvD,CACA,MAAO,CAAAH,OAAO,CAChB,CAAC,CAED,OAASlB,gBAAgB,CAAEiB,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}