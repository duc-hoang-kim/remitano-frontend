{"ast":null,"code":"var _jsxFileName = \"/Users/hoangkimduc/remitano/remitano_frontend/src/contexts/AuthContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport React, { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/React.createContext({\n  user: null,\n  isAuthenticated: () => false,\n  logInAs: user => {},\n  logOut: () => {}\n});\nconst AuthProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const navigate = useNavigate();\n  const [user, setUser] = React.useState(null);\n  const logInAs = user => {\n    setUser(user);\n    localStorage.setItem('currentUserEmail', user.email);\n    navigate(\"/\");\n  };\n  const logOut = () => {\n    setUser(null);\n  };\n  const isAuthenticated = () => {\n    return user != null;\n  };\n  useEffect(() => {\n    //fetch cookie\n    localStorage.getItem('currentUserEmail');\n  }, []);\n  const value = {\n    user,\n    logInAs,\n    logOut,\n    isAuthenticated\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 10\n  }, this);\n};\n_s(AuthProvider, \"7CTApz3LMzC8LG1QZqzjZq1hx+k=\", false, function () {\n  return [useNavigate];\n});\n_c = AuthProvider;\nconst useAuthenticate = () => {\n  _s2();\n  const context = React.useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"must be used within a AuthProvider\");\n  }\n  return context;\n};\n_s2(useAuthenticate, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport { AuthProvider, useAuthenticate };\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["useNavigate","React","useEffect","jsxDEV","_jsxDEV","AuthContext","createContext","user","isAuthenticated","logInAs","logOut","AuthProvider","_ref","_s","children","navigate","setUser","useState","localStorage","setItem","email","getItem","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuthenticate","_s2","context","useContext","undefined","Error","$RefreshReg$"],"sources":["/Users/hoangkimduc/remitano/remitano_frontend/src/contexts/AuthContext.tsx"],"sourcesContent":["import { Routes, Route, NavLink, useNavigate } from \"react-router-dom\";\nimport React, { ReactNode, useEffect } from \"react\";\nimport { UserType } from \"../features/authentication/types\";\n\ntype AuthProviderPropsType = {\n  children: ReactNode;\n};\n\ntype SessionType = {\n  user: UserType | null;\n  isAuthenticated: () => boolean;\n  logInAs: (user: UserType) => void;\n  logOut: () => void;\n};\n\nconst AuthContext = React.createContext<SessionType>({\n  user: null,\n  isAuthenticated: () => false,\n  logInAs: (user: UserType) => {},\n  logOut: () => {},\n});\n\nconst AuthProvider = ({ children }: AuthProviderPropsType) => {\n  const navigate = useNavigate();\n\n  const [user, setUser] = React.useState<UserType | null>(null);\n\n  const logInAs = (user: UserType) => {\n    setUser(user);\n    localStorage.setItem('currentUserEmail', user.email);\n    navigate(\"/\");\n  };\n\n  const logOut = () => {\n    setUser(null);\n  };\n\n  const isAuthenticated = () => {\n    return user != null;\n  };\n\n  useEffect(() => {\n    //fetch cookie\n    localStorage.getItem('currentUserEmail');\n  }\n  , []);\n\n  const value = {\n    user,\n    logInAs,\n    logOut,\n    isAuthenticated,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n\nconst useAuthenticate = () => {\n  const context = React.useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"must be used within a AuthProvider\");\n  }\n  return context;\n};\n\nexport { AuthProvider, useAuthenticate };\n"],"mappings":";;;AAAA,SAAiCA,WAAW,QAAQ,kBAAkB;AACtE,OAAOC,KAAK,IAAeC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAcpD,MAAMC,WAAW,gBAAGJ,KAAK,CAACK,aAAa,CAAc;EACnDC,IAAI,EAAE,IAAI;EACVC,eAAe,EAAEA,CAAA,KAAM,KAAK;EAC5BC,OAAO,EAAGF,IAAc,IAAK,CAAC,CAAC;EAC/BG,MAAM,EAAEA,CAAA,KAAM,CAAC;AACjB,CAAC,CAAC;AAEF,MAAMC,YAAY,GAAGC,IAAA,IAAyC;EAAAC,EAAA;EAAA,IAAxC;IAAEC;EAAgC,CAAC,GAAAF,IAAA;EACvD,MAAMG,QAAQ,GAAGf,WAAW,EAAE;EAE9B,MAAM,CAACO,IAAI,EAAES,OAAO,CAAC,GAAGf,KAAK,CAACgB,QAAQ,CAAkB,IAAI,CAAC;EAE7D,MAAMR,OAAO,GAAIF,IAAc,IAAK;IAClCS,OAAO,CAACT,IAAI,CAAC;IACbW,YAAY,CAACC,OAAO,CAAC,kBAAkB,EAAEZ,IAAI,CAACa,KAAK,CAAC;IACpDL,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC;EAED,MAAML,MAAM,GAAGA,CAAA,KAAM;IACnBM,OAAO,CAAC,IAAI,CAAC;EACf,CAAC;EAED,MAAMR,eAAe,GAAGA,CAAA,KAAM;IAC5B,OAAOD,IAAI,IAAI,IAAI;EACrB,CAAC;EAEDL,SAAS,CAAC,MAAM;IACd;IACAgB,YAAY,CAACG,OAAO,CAAC,kBAAkB,CAAC;EAC1C,CAAC,EACC,EAAE,CAAC;EAEL,MAAMC,KAAK,GAAG;IACZf,IAAI;IACJE,OAAO;IACPC,MAAM;IACNF;EACF,CAAC;EAED,oBAAOJ,OAAA,CAACC,WAAW,CAACkB,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAR,QAAA,EAAEA;EAAQ;IAAAU,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAwB;AAC9E,CAAC;AAACd,EAAA,CAjCIF,YAAY;EAAA,QACCX,WAAW;AAAA;AAAA4B,EAAA,GADxBjB,YAAY;AAmClB,MAAMkB,eAAe,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC5B,MAAMC,OAAO,GAAG9B,KAAK,CAAC+B,UAAU,CAAC3B,WAAW,CAAC;EAC7C,IAAI0B,OAAO,KAAKE,SAAS,EAAE;IACzB,MAAM,IAAIC,KAAK,CAAC,oCAAoC,CAAC;EACvD;EACA,OAAOH,OAAO;AAChB,CAAC;AAACD,GAAA,CANID,eAAe;AAQrB,SAASlB,YAAY,EAAEkB,eAAe;AAAG,IAAAD,EAAA;AAAAO,YAAA,CAAAP,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}